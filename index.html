<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="NearBuy - Your hyper-local e-commerce platform for GIKI/Topi. Order from local stores and get it delivered to your hostel.">
  <meta name="keywords" content="nearbuy, local delivery, giki, topi, food delivery, grocery delivery">
  <title>NearBuy - Shop Smart, Shop Local</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/components.css">

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <span class="logo-icon">üõí</span>
          <span>NearBuy - Shop Smart, Shop Local</span>
        </div>
        <button class="btn cart-badge" id="view-cart-btn" aria-label="View shopping cart">
          <span class="cart-badge-icon">üõí</span>
          <span class="cart-badge-count hidden" id="cart-badge">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1 class="hero-title">Welcome to NearBuy</h1>
      <p class="hero-subtitle">Your hyper-local e-commerce platform. Order from your favorite local stores and get it
        delivered to your hostel!</p>
    </div>
  </section>

  <!-- Main Content -->
  <main class="section">
    <div class="container">
      <!-- Back to Stores Button -->
      <div style="margin-bottom: var(--spacing-lg);">
        <button class="btn btn-secondary hidden" id="back-to-stores">
          ‚Üê Back to Stores
        </button>
      </div>

      <!-- Category Filters -->
      <div class="category-filter" id="category-filters">
        <!-- Dynamically populated -->
      </div>

      <!-- Section Header -->
      <div class="section-header">
        <h2 class="section-title">Browse Stores</h2>
        <p class="section-subtitle">Choose from local restaurants, grocery stores, and stationery shops</p>
      </div>

      <!-- Stores Container -->
      <div id="stores-container">
        <!-- Dynamically populated -->
      </div>

      <!-- Products Container (Hidden by default) -->
      <div id="products-container" class="hidden">
        <!-- Dynamically populated -->
      </div>
    </div>
  </main>

  <!-- Cart Modal -->
  <div class="modal-overlay hidden" id="cart-modal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Shopping Cart</h2>
        <button class="modal-close" id="close-cart-btn" aria-label="Close cart">√ó</button>
      </div>
      <div class="modal-body">
        <div id="cart-items">
          <!-- Dynamically populated -->
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-outline" id="close-cart-btn-2">Continue Shopping</button>
        <button class="btn btn-primary" id="checkout-btn">Proceed to Checkout</button>
      </div>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div class="modal-overlay hidden" id="checkout-modal">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title">Checkout</h2>
        <button class="modal-close" id="close-checkout-btn" aria-label="Close checkout">√ó</button>
      </div>
      <div class="modal-body">
        <form id="checkout-form">
          <div class="form-group">
            <label for="name" class="form-label">Full Name *</label>
            <input type="text" id="name" name="name" class="form-input" required placeholder="Enter your full name">
          </div>

          <div class="form-group">
            <label for="location" class="form-label">Hostel / Location *</label>
            <input type="text" id="location" name="location" class="form-input" required
              placeholder="e.g., Hostel A, Room 123">
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Email Address *</label>
            <input type="email" id="email" name="email" class="form-input" required
              placeholder="your.email@example.com">
          </div>

          <div
            style="background-color: var(--color-gray-100); padding: var(--spacing-md); border-radius: var(--border-radius-md); margin-bottom: var(--spacing-lg);">
            <p style="font-size: var(--font-size-sm); color: var(--color-gray-700); margin-bottom: 0;">
              <strong>Note:</strong> After confirming your order, you will be redirected to WhatsApp to complete your
              order with the store. You will also receive a confirmation email.
            </p>
          </div>

          <button type="submit" class="btn btn-primary btn-full btn-lg">
            Confirm Order
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer
    style="background-color: var(--color-gray-900); color: var(--color-white); padding: var(--spacing-xl) 0; text-align: center; margin-top: var(--spacing-3xl);">
    <div class="container">
      <p style="margin-bottom: var(--spacing-sm);">¬© 2025 NearBuy - Shop Smart, Shop Local</p>
      <p style="font-size: var(--font-size-sm); opacity: 0.8;">Made with ‚ù§Ô∏è for GIKI/Topi Community</p>
    </div>
  </footer>

  <!-- Main App Script (ES6 Module) -->
  <script type="module" src="./js/app.js"></script>
</body>

</html>